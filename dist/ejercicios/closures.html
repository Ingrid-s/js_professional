<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div>
        <h3>Closures</h3>
            <p>
                    Son funciones que regresan una función o un objeto con funciones que mantienen las variables que fueron declaras fuera de su scope.
            </p>
            <p>Los closures nos sirven para tener algo parecido a variables privadas, característica que no tiene JavaScript por default. Es decir encapsulan variables que no pueden ser modificadas directamente por otros objetos, sólo por funciones pertenecientes al mismo.</p>   
    </div>
    <script>//Closures
//printColor
//IIFE Inmediatly Invoked function expression
(function () {
  let color = 'green';

  function printColor() {
    console.log(color);
  }

  printColor();
})(); // Funciones que regresan funciones


function makeColorPrinter(color) {
  let colorMessage = `The color is ${color}`;
  return function () {
    console.log(colorMessage);
  };
}

let greenColorPrinter = makeColorPrinter('green');
console.log(greenColorPrinter()); //Variables privadas
//const counter = {
//  count: 3, 
//};

function makeCounter(n) {
  let count = n;
  return {
    increase: function () {
      count = count + 1;
    },
    decrease: function () {
      count = count - 1;
    },
    getCount: function () {
      return count;
    }
  };
}

let counter = makeCounter(7);
console.log('The count is', counter.getCount());
counter.increase();
console.log('the count is', counter.getCount());
counter.decrease();
counter.decrease();
counter.decrease();
counter.decrease();
console.log('The count is:', counter.getCount());</script>
</body>
</html>